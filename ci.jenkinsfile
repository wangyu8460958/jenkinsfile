#!groovy

String buildShell = "${env.buildShell}"

pipeline{
   agent { node { label "master"}}
   
   stages{
      
      stage("clean") {
        cleanWs()
      }
      
       stage("build") {
         steps{
            script{
               mvnHome = tool "maven"
               sh "${mvnHome}/bin/mvn ${buildShell}"
            }
         }
       }
      
      stage("antbuild"){
         steps{
            script{
              antHome = tool "ANT"
              sh "${antHome}/bin/ant ${buildShell}"
            }
         }
      }
      
      stage("NpmBuild"){
         steps{
            script{
               npmHome = tool "NPM"
               sh "${npmHome}/bin/npm ${buildShell}"
            }
         }
      }
   }
}
